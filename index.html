<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</title>

  <!-- PWA Meta Tags -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4a90e2"/>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô">
  <link rel="apple-touch-icon" href="./192.png">

  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container" style="padding:0; border:none; background:none;">
    
    <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏≠‡∏õ -->
    <div id="install-guide" class="install-prompt">
      <span class="close-prompt" onclick="hideInstallPromptPermanently()">&times;</span>
      <h4>‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏≠‡∏õ‡∏ô‡∏µ‡πâ‡∏•‡∏á‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì!</h4>
      <ul>
        <li><b>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Android:</b> ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå Chrome ‡∏à‡∏∞‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏° "‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏≠‡∏õ" ‡∏´‡∏£‡∏∑‡∏≠ "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏•‡∏±‡∏Å" ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏Å‡∏î</li>
        <li><b>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö iPhone (iOS):</b> ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô Safari ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏° "‡πÅ‡∏ä‡∏£‡πå" (Share) ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÇ‡∏Æ‡∏°" (Add to Home Screen)</li>
      </ul>
      <div style="text-align: center; margin-top: 10px;">
        <button onclick="hideInstallPromptPermanently()" style="background-color: #6c757d; color: white; border: none; padding: 5px 15px; border-radius: 5px; cursor: pointer;">
          ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏≠‡∏µ‡∏Å
        </button>
      </div>
    </div>

    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô -->
    <div style="text-align: center; margin-top: 5px;">
      <div class="container">
        <div style="width: 100%; max-width: 600px; margin: 10px auto;">
          <h1 style="text-align: center; color: blue; font-size: clamp(1.2rem, 4vw, 1.8rem);">
            ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô
          </h1>
          
<!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏π‡πâ‡∏Ñ‡∏∑‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏¢‡πâ‡∏≤‡∏¢‡∏°‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô -->
<div style="display: flex; justify-content: center; align-items: center; margin: 20px 0;">
  <div class="button-container" 
       style="display: flex; justify-content: center; flex-wrap: wrap; gap: 12px; padding: 0 10px;">
    
    <button 
      type="button" 
      onclick="document.getElementById('restoreFile').click()" 
      style="
        background-color: #196B24;
        color: white;
        font-weight: bold;
        padding: 12px 24px;
        height: 45px;
        font-size: 1.1rem;
        border: 3px solid #FF33CC;
        border-radius: 28px;
        cursor: pointer;
        transition: all 0.3s ease;
        white-space: nowrap;
        width: fit-content;
        touch-action: manipulation;
      "
      onmouseover="this.style.backgroundColor='#145a1d'"
      onmouseout="this.style.backgroundColor='#196B24'"
      ontouchstart="this.style.backgroundColor='#145a1d'"
      ontouchend="this.style.backgroundColor='#196B24'">
      ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ
    </button>

    <input 
      type="file" 
      id="restoreFile" 
      accept=".json" 
      style="display: none;" 
      onchange="restoreData(this.files[0])">
  </div>
</div>
          
          <!-- ‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡∏ç‡πà 1: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
          <div class="section-header main-section-header header-add-data" onclick="toggleMainSection('add-activity-section')">
            <span>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</span>
            <span class="menu-icon">‚ñº</span>
          </div>
          <div id="add-activity-section" class="section-content main-section-content">
            <div class="form-section no-border">
              <form id="activity-form">
                
 <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
<div class="management-row compact-layout">
  <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
  <div class="management-container full-width">
    <div class="select-wrapper" 
         style="display: flex; align-items: center; gap: 6px; width: 100%;">

      <button 
        type="button" 
        class="manage-btn-inline" 
        onclick="toggleManagementActions('personActions')" 
        title="‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°"
        style="
          font-size: 14px;
          width: 30px;
          height: 30px;
          display: flex;
          align-items: center;
          justify-content: center;
          border: 1px solid #ccc;
          border-radius: 6px;
          background: #fff;
          cursor: pointer;
          transition: all 0.2s ease;
        "
      >
        ‚öôÔ∏è
      </button>

      <select 
        id="personSelect" 
        onchange="checkCustomOption(this)" 
        required 
        style="
          flex: 1;
          font-size: 14px;
          padding: 6px 10px;
          border-radius: 6px;
          height: 34px;
        "
      >
        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</option>
      </select>
    </div>

    <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏¢‡πà‡∏≠‡∏¢ -->
    <div class="management-actions" id="personActions" style="display: none;">
      <button type="button" id="addPersonBtn" class="add-btn">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
      <button type="button" id="editPersonBtn" class="edit-btn">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
      <button type="button" id="deletePersonBtn" class="delete-btn">‡∏•‡∏ö</button>
      <button type="button" id="resetPersonBtn" class="reset-btn">‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤</button>
    </div>

    <input 
      type="text" 
      id="customPersonInput" 
      placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏≠‡∏á" 
      style="display: none; width: 100%; margin: 5px 0; padding: 8px;" 
    />
  </div>

  <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
  <div class="management-container full-width">
    <div class="select-wrapper" 
         style="display: flex; align-items: center; gap: 6px; width: 100%;">

      <button 
        type="button" 
        class="manage-btn-inline" 
        onclick="toggleManagementActions('activityTypeActions')" 
        title="‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°"
        style="
          font-size: 14px;
          width: 30px;
          height: 30px;
          display: flex;
          align-items: center;
          justify-content: center;
          border: 1px solid #ccc;
          border-radius: 6px;
          background: #fff;
          cursor: pointer;
          transition: all 0.2s ease;
        "
      >
        ‚öôÔ∏è
      </button>

      <select 
        id="activityTypeSelect" 
        onchange="checkCustomActivityTypeOption(this)" 
        required 
        style="
          flex: 1;
          font-size: 14px;
          padding: 6px 10px;
          border-radius: 6px;
          height: 34px;
        "
      >
        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</option>
      </select>
    </div>

    <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏¢‡πà‡∏≠‡∏¢ -->
    <div class="management-actions" id="activityTypeActions" style="display: none;">
      <button type="button" id="addActivityTypeBtn" class="add-btn">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
      <button type="button" id="editActivityTypeBtn" class="edit-btn">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
      <button type="button" id="deleteActivityTypeBtn" class="delete-btn">‡∏•‡∏ö</button>
      <button type="button" id="resetActivityTypeBtn" class="reset-btn">‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤</button>
    </div>

    <input 
      type="text" 
      id="customActivityTypeInput" 
      placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏≠‡∏á" 
      style="display: none; width: 100%; margin: 5px 0; padding: 8px;" 
    />
  </div>
</div>
                
<style>
  .date-wrapper {
    position: relative;
    display: flex;
    justify-content: center;
    width: 100%;
  }

  input[type="date"] {
    width: 100%;
    max-width: 150px;
    padding: 8px 8px 8px 80px; /* ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡πâ‡∏≤‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° */
    box-sizing: border-box;
    text-align: left; /* ‡πÉ‡∏´‡πâ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏¥‡∏î‡∏ã‡πâ‡∏≤‡∏¢ */
  }

  .display-date {
    position: absolute;
    top: 0;
    left: 8px; /* ‡∏Ç‡∏≠‡∏ö‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á input */
    height: 100%;
    display: flex;
    align-items: center;
    pointer-events: none;
    color: #999;
    font-size: 14px;
  }
</style>

<div class="date-wrapper">
  <input type="date" id="activity-date">
  <div class="display-date" id="display-date">(‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà)</div>
</div>

<script>
  const dateInput = document.getElementById('activity-date');
  const display = document.getElementById('display-date');

  function updateDisplay() {
    if (dateInput.value) {
      const date = new Date(dateInput.value);
      const formatted = date.toLocaleDateString('th-TH'); // 30/10/2025
      display.textContent = `(‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà) ${formatted}`;
      display.style.color = '#000'; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
    } else {
      display.textContent = '(‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà)';
      display.style.color = '#999'; // ‡∏™‡∏µ placeholder
    }
  }

  dateInput.addEventListener('input', updateDisplay);
  updateDisplay();
</script>
                
<label for="start-time">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î:</label>
<div class="time-inputs-container">
  <div class="time-input-group">
    <input type="time" id="start-time" required>
    <span class="time-label">‡πÄ‡∏£‡∏¥‡πà‡∏°</span>
  </div>
  <div class="time-input-group">
    <input type="time" id="end-time" required>
    <span class="time-label">‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</span>
  </div>
</div>
                
                <label for="activity-details">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö):</label>
                <textarea id="activity-details" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡∏°, ‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ö‡∏ó‡∏ó‡∏µ‡πà 5"></textarea>
                              <!-- ‡∏¢‡πâ‡∏≤‡∏¢‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏°‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
<div class="button-container" style="display: flex; gap: 5px; margin-top: 0; justify-content: center;"> <!-- ‡πÄ‡∏î‡∏¥‡∏°‡∏Ñ‡∏∑‡∏≠ margin-top: 2px; -->
<button type="button" 
    onclick="toggleActivitiesVisibility()" 
    style="width: 100%; max-width: 300px; margin: 0 auto; background-color: #92D050; color: white; padding: 15px; border-radius: 30px; cursor: pointer; font-weight: bold; font-size: 18px; display: flex; justify-content: center; align-items: center; transition: all 0.3s ease; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border: 3px solid #0070C0; border-left: 6px solid #ff4757;">
    ‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
</button>
</div>
<div class="center" style="margin: 2px 0;"> <!-- ‡πÄ‡∏î‡∏¥‡∏°‡∏Ñ‡∏∑‡∏≠ margin: 5px 0; -->
  <button id="save-activity-button">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</button>
</div>
                <button type="button" id="update-activity-button" class="hidden">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</button>
                <button type="button" id="cancel-edit-activity-button" class="hidden">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                
                <p id="activity-message" class="error-message"></p>
              </form>
              

            </div>
          </div>
        
          <!-- ‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡∏ç‡πà 2: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
          <div class="section-header main-section-header header-actions" onclick="toggleMainSection('manage-activities-section')">
            <span>‚öôÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</span>
            <span class="menu-icon">‚ñº</span>
          </div>
<div id="manage-activities-section" class="section-content main-section-content">
  <div class="form-section no-border">
    <form id="manage-activities-form">
      <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏Å‡∏π‡πâ‡∏Ñ‡∏∑‡∏ô -->
      <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô -->
<div style="text-align: center; margin: 5px 0;">
  <p id="password-status" 
     style="margin-top: 5px; margin-bottom: 5px; font-size: clamp(0.7rem, 1.5vw, 1rem); color: #f5a623;">
    ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™)
  </p>
</div>

      
      <div class="entry-form" style="margin-bottom: 0;">
        <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÅ‡∏ñ‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô -->
        <div class="button-container" style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 5px;">
          <button type="button" onclick="saveToLocal()" style="flex: 1; border-radius: 30px; background-color: #17a2b8;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</button>
          <button type="button" onclick="openExportOptionsModal()" style="flex: 1; border-radius: 30px; background-color: #0d47a1;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        </div>
        
        <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô -->
        <div class="entry-group" style="font-size: clamp(0.8rem, 2.5vw, 1rem);">
          <label for="backup-password">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö):</label>
          <div style="position: relative;">
            <input 
              type="password" 
              id="backup-password" 
              placeholder="‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô ‡πÉ‡∏´‡πâ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ" 
              style="width: 100%; padding-right: 40px; font-size: clamp(0.7rem, 2.5vw, 1rem);"
            >
            <span 
              id="toggle-password" 
              style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; user-select: none; font-size: clamp(0.7rem, 2.5vw, 1rem);"
            >üëÅÔ∏è</span>
          </div>
        </div>

        <div class="entry-group">
          <label for="backup-password-confirm">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô:</label>
          <div style="position: relative;">
            <input type="password" id="backup-password-confirm" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á" style="width: 100%; padding-right: 40px;">
            <span id="toggle-password-confirm" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; user-select: none;">üëÅÔ∏è</span>
          </div>
        </div>
        
        <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÅ‡∏ñ‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô -->
        <div class="button-container" style="display: flex; justify-content: center; gap: 10px; margin-top: 5px;">
          <button type="button" onclick="saveBackupPassword(event)" style="background-color: #28a745; flex: 1; border-radius: 30px; max-width: 150px;">
            ‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô
          </button>
          <button type="button" onclick="clearBackupPassword()" style="background-color: #dc3545; flex: 1; border-radius: 30px; max-width: 150px;">
            ‡∏•‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô
          </button>
        </div>
      </div>

      <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î -->
      <div class="summary-subsection">
        <div class="button-container" style="display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; margin-top: 5px;">
          <button type="button" onclick="cleanAllData()" class="clean-data-btn" style="background-color: #ff5722; border-radius: 30px; color: white;">
            üßπ ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
          </button>
        </div>
        <p style="text-align: center; font-size: 0.9rem; color: #666; margin-top: 5px;">
          ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•, ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡πâ‡∏≥, ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏¢‡∏∞ ‡πÅ‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
        </p>
      </div>
    </form>
  </div>
</div> <!-- ‡∏õ‡∏¥‡∏î div ‡∏Ç‡∏≠‡∏á‡πÄ‡∏°‡∏ô‡∏π‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->     
          <!-- ‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡∏ç‡πà 3: ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
<div class="section-header main-section-header header-summary" onclick="toggleMainSection('summary-section')">
  <span>üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</span>
  <span class="menu-icon">‚ñº</span>
</div>
<div id="summary-section" class="section-content main-section-content">
  <div class="form-section no-border">
    <form id="summary-form">
            
            <!-- ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ -->
              <div class="entry-form" style="margin-bottom: 0;">
                <div class="entry-group">
                  <label for="summary-type-select">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ:</label>
                  <select id="summary-type-select" onchange="loadSummaryData()">
                    <option value="brief-summary">‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡πà‡∏≠</option>
                    <option value="single-day">‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
                    <option value="date-range">‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</option>
                    <option value="all-time">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
            <div class="summary-controls">
              <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß) -->
              <div class="auto-selected-person" id="autoSelectedPerson" style="display: none; background-color: #f8f9fa; padding: 8px 12px; border-radius: 15px; border: 1px solid #dee2e6; margin-bottom: 10px;">
                <label style="font-weight: bold; margin-right: 8px; color: #495057;">‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°:</label>
                <span id="selectedPersonName" style="color: #28a745; font-size: 1rem; font-weight: bold;"></span>
              </div>

              <!-- Dropdown ‡∏Å‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô) -->
              <div class="person-filter-container" id="personFilterContainer">
                <label for="personFilter">‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°:</label>
                <select id="personFilter" onchange="loadSummaryData()">
                  <option value="all">‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô</option>
                </select>
              </div>
            </div>
            
            <!-- ‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å) -->
<div id="summary-date-picker" class="summary-subsection hidden">
  <label class="summary-subsection-header">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
  <div class="summary-date-display">
    <div class="date-label">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</div>
    <input type="date" id="summary-date" style="width: 100%; max-width: 200px; padding: 8px; font-size: 14px;">
  </div>
</div>

<div id="summary-date-range" class="summary-subsection hidden">
  <label class="summary-subsection-header">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
  <div class="summary-date-display">
    <div class="date-label">‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</div>
    <input type="date" id="summary-start-date" style="width: 100%; max-width: 200px; padding: 8px; font-size: 14px;">
  </div>
  <div class="summary-date-display">
    <div class="date-label">‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</div>
    <input type="date" id="summary-end-date" style="width: 100%; max-width: 200px; padding: 8px; font-size: 14px;">
  </div>
</div>
            
<!-- ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ -->
<div class="summary-subsection">
  <div class="button-container" style="text-align: center; margin-top: 5px;">
    <button 
      type="button" 
      onclick="viewSummary()" 
      style="
        display: inline-block;
        background-color: #FF00FF;
        color: #fff;
        border: 2px solid #4527a0;
        border-radius: 30px;
        padding: 5px 15px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        transition: all 0.25s ease;
        width: auto;
        min-width: fit-content;
      "
      onmouseover="this.style.transform='scale(1.05)'"
      onmouseout="this.style.transform='scale(1)'"
    >
      ‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ
    </button>
  </div>
</div>
  </div>
</div>
</div>    
</div>    
          <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° - ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô Responsive -->
          <div id="activitiesSection" style="display: none; margin-top: 5px; width: 100%;">
            <div class="table-container">
              <table id="activityTable">
                <thead>
                  <tr>
                    <th>‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏õ‡∏µ</th>
                    <th>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</th>
                    <th>‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</th>
                    <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</th>
                    <th>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤</th>
                    <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
                    <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                  </tr>
                </thead>
                <tbody id="activityBody"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Popup ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏£‡∏∏‡∏õ -->
    <div id="summaryModal" class="modal-overlay">
      <div class="modal-content-container">
        <div id="modalBodyContent" class="summaryResult">
          <!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÉ‡∏™‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÇ‡∏î‡∏¢ JavaScript -->
        </div>
        <div class="modal-controls">
          <button id="saveSummaryAsImageBtn" class="modal-control-btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</button>
          <button type="button" onclick="closeSummaryModal()" class="modal-close-btn modal-control-btn">‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ</button>
        </div>
      </div>
    </div>

    <!-- Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏£‡∏∏‡∏õ -->
    <div id="summaryOutputModal" class="modal-overlay">
      <div class="format-modal-content">
        <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏£‡∏∏‡∏õ</h3>
        <div class="format-modal-buttons">
          <button type="button" class="btn-display" onclick="handleSummaryOutput('display')">‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏à‡∏≠</button>
          <button type="button" class="btn-xlsx" onclick="handleSummaryOutput('xlsx')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô XLSX</button>
          <button type="button" class="btn-pdf" onclick="handleSummaryOutput('pdf')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô PDF</button>
          <button type="button" class="btn-cancel" onclick="closeSummaryOutputModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
      </div>
    </div>

    <!-- Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
    <div id="personModal" class="popup-overlay">
      <div class="popup-content" style="max-width: 400px; background-color: #f0f8ff;">
        <h2 id="personModalTitle" style="color: #0056b3; text-align: center;"></h2>
        <input type="hidden" id="personEditValue">
        <input type="text" id="modalPersonName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°">
        <div class="modal-button-group">
          <button type="button" id="savePersonBtn" style="background-color: #28a745;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
          <button type="button" id="cancelPersonBtn" class="close-popup-btn">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
      </div>
    </div>

    <!-- Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
    <div id="activityTypeModal" class="popup-overlay">
      <div class="popup-content" style="max-width: 400px; background-color: #f0f8ff;">
        <h2 id="activityTypeModalTitle" style="color: #0056b3; text-align: center;"></h2>
        <input type="hidden" id="activityTypeEditValue">
        <input type="text" id="modalActivityTypeName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°">
        <div class="modal-button-group">
          <button type="button" id="saveActivityTypeBtn" style="background-color: #28a745;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
          <button type="button" id="cancelActivityTypeBtn" class="close-popup-btn">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
      </div>
    </div>

    <!-- Container ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏¥‡∏°‡∏û‡πå PDF -->
    <div id="print-container" style="display: none;"></div>

    <!-- Toast Notification -->
    <div id="toast" class="toast-notification" style="display: none;"></div>

    <!-- Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
    <div id="exportOptionsModal" class="modal-overlay">
      <div class="format-modal-content">
        <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>
        <div class="format-modal-buttons">
          <button onclick="saveToFile()" style="background-color: #0d47a1;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏ó‡∏∏‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ)</button>
          <button onclick="exportSelectedAccount()" style="background-color: #ff9800;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)</button>
          <button onclick="initiateSingleDateExport()" style="background-color: #009688;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ô‡∏µ‡πâ)</button>
          <button class="btn-cancel" onclick="closeExportOptionsModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
      </div>
    </div>

<!-- Modal ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô) - ‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà -->
<div id="singleDateExportModal" class="modal-overlay">
  <div class="format-modal-content">
    <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</h3>
    <p>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: <strong id="singleDateAccountName"></strong></p>
    
    <div class="entry-form" style="margin-bottom: 20px;">
      <div class="entry-group">
        <label for="exportStartDate">‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
        <input type="date" id="exportStartDate" required>
      </div>
      <div class="entry-group">
        <label for="exportEndDate">‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
        <input type="date" id="exportEndDate" required>
      </div>
    </div>
    
    <div class="format-modal-buttons">
      <button class="btn-display" onclick="processDateRangeExport()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
      <button class="btn-cancel" onclick="closeSingleDateExportModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    </div>
  </div>
</div>
  </div>
  <!-- JavaScript -->
  <script src="script.js"></script>
  <script>
    // ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('./service-worker.js')
          .then(function(registration) {
            console.log('Service Worker ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ', registration.scope);
          })
          .catch(function(error) {
            console.log('Service Worker ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ', error);
          });
      });
    }

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó Service Worker ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    navigator.serviceWorker.addEventListener('controllerchange', function() {
      console.log('Service Worker ‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏•‡πâ‡∏ß');
      window.location.reload();
    });
    
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠
    function toggleMobileManagement(actionsId) {
      const actions = document.getElementById(actionsId);
      if (actions.style.display === 'flex') {
        actions.style.display = 'none';
      } else {
        actions.style.display = 'flex';
      }
    }
    
    // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô checkCustomOption ‡πÅ‡∏•‡∏∞ checkCustomActivityTypeOption
    function checkCustomOption(selectElement) {
      const customInput = document.getElementById('customPersonInput');
        
      if (selectElement.value === 'custom') {
        customInput.style.display = 'block';
        customInput.focus();
      } else {
        customInput.style.display = 'none';
      }
    }
    
    function checkCustomActivityTypeOption(selectElement) {
      const customInput = document.getElementById('customActivityTypeInput');
        
      if (selectElement.value === 'custom') {
        customInput.style.display = 'block';
        customInput.focus();
      } else {
        customInput.style.display = 'none';
      }
    }
    
    // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô toggleManagementActions ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏î‡∏™‡∏Å‡πå‡∏ó‡πá‡∏≠‡∏õ
    function toggleManagementActions(showId) {
      const showElement = document.getElementById(showId);
      
      if (showElement.style.display === 'flex') {
        showElement.style.display = 'none';
      } else {
        showElement.style.display = 'flex';
      }
    }
    
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    function toggleActivitiesVisibility() {
      const activitiesSection = document.getElementById('activitiesSection');
      if (activitiesSection.style.display === 'none') {
        activitiesSection.style.display = 'block';
        loadUserActivities();
      } else {
        activitiesSection.style.display = 'none';
      }
    }
  </script>
</body>

</html>
